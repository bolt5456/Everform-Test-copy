{% comment %}
  Social Meta Tags (Open Graph, Twitter Card)
{% endcomment %}

{%- comment -%}Open Graph meta tags{%- endcomment -%}
<meta property="og:site_name" content="{{ shop.name }}">
<meta property="og:url" content="{{ canonical_url }}">
<meta property="og:title" content="{{ page_title }}{% if current_tags %} - {{ current_tags | join: ', ' }}{% endif %}{% if current_page != 1 %} - Page {{ current_page }}{% endif %}">
<meta property="og:type" content="website">

{%- if page_description -%}
  <meta property="og:description" content="{{ page_description | escape }}">
{%- endif -%}

{%- if page_image -%}
  <meta property="og:image" content="http:{{ page_image | image_url: width: 1200 }}">
  <meta property="og:image:secure_url" content="https:{{ page_image | image_url: width: 1200 }}">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
{%- endif -%}

{%- comment -%}Twitter Card meta tags{%- endcomment -%}
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="{{ page_title }}{% if current_tags %} - {{ current_tags | join: ', ' }}{% endif %}{% if current_page != 1 %} - Page {{ current_page }}{% endif %}">

{%- if page_description -%}
  <meta name="twitter:description" content="{{ page_description | escape }}">
{%- endif -%}

{%- if page_image -%}
  <meta name="twitter:image" content="https:{{ page_image | image_url: width: 1200 }}">
{%- endif -%}

{%- comment -%}Template-specific meta tags{%- endcomment -%}
{%- case template.name -%}
  {%- when 'product' -%}
    <meta property="og:type" content="product">
    <meta property="og:price:amount" content="{{ product.price | money_without_currency | remove: ',' }}">
    <meta property="og:price:currency" content="{{ shop.currency }}">
    {%- if product.available -%}
      <meta property="og:availability" content="instock">
    {%- else -%}
      <meta property="og:availability" content="outofstock">
    {%- endif -%}

  {%- when 'article' -%}
    <meta property="og:type" content="article">
    <meta property="article:published_time" content="{{ article.published_at | date: '%Y-%m-%dT%H:%M:%SZ' }}">
    <meta property="article:author" content="{{ article.author }}">
    {%- for tag in article.tags -%}
      <meta property="article:tag" content="{{ tag }}">
    {%- endfor -%}
{%- endcase -%}
